!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1);new(function(){function t(){this.height=window.innerHeight,this.width=window.innerWidth,this.scaledHeight=null,this.scaledWIdth=null,this.grid=document.querySelector(".grid"),this.snakeHead=null,this.nodes=[],this.dead=!1,this.snakeLength=1,this.prevousPositions=[],this.food=null,this.currentKey=null,this.init()}return t.prototype.init=function(){var t=this;console.log("starting game"),document.addEventListener("keydown",function(e){t.currentKey=e.key}),this.createGrid(),this.createFood(),this.initSnake(),this.gameLoop()},t.prototype.gameLoop=function(){var t=this,e=setInterval(function(){t.dead&&(clearInterval(e),t.resetGame()),t.moveSnake(t.currentKey),t.detectFoodCollision(),console.log(t.dead)},50)},t.prototype.initSnake=function(){var t=this.nodes[Math.floor(Math.random()*this.nodes.length)];t.nodeType="snake",this.snakeHead=t},t.prototype.detectFoodCollision=function(){this.snakeHead===this.food&&(this.increaseSnakeLength(),this.createFood())},t.prototype.detectSnakeCollision=function(){var t=this;this.prevousPositions.forEach(function(e){e.id===t.snakeHead.id&&(t.dead=!0)})},t.prototype.detectWallCollision=function(t){this.snakeHead.id%this.scaledWIdth==0&&(this.dead=!0),!t&&this.currentKey&&(console.log("TOP DEAD"),this.dead=!0)},t.prototype.resetGame=function(){this.height=window.innerHeight,this.width=window.innerWidth,this.scaledHeight=null,this.scaledWIdth=null,this.grid=document.querySelector(".grid"),this.snakeHead=null,this.nodes=[],this.dead=!1,this.snakeLength=1,this.prevousPositions=[],this.food=null,this.currentKey=null,this.init()},t.prototype.increaseSnakeLength=function(){this.snakeLength++},t.prototype.createFood=function(){var t=this.nodes[Math.floor(Math.random()*this.nodes.length)];t===this.snakeHead&&this.createFood(),t.nodeType="food",this.food=t},t.prototype.moveSnake=function(t){var e=this,i=this.snakeHead,n=null;"a"!==t&&"ArrowLeft"!==t||(n=this.nodes.filter(function(t){return t.id===i.id-1})[0]),"d"!==t&&"ArrowRight"!==t||(n=this.nodes.filter(function(t){return t.id===i.id+1})[0]),"w"!==t&&"ArrowUp"!==t||(n=this.nodes.filter(function(t){return t.id===i.id-e.scaledWIdth})[0]),"s"!==t&&"ArrowDown"!==t||(n=this.nodes.filter(function(t){return t.id===i.id+e.scaledWIdth})[0]),this.detectSnakeCollision(),this.detectWallCollision(n),n.nodeType="snake",this.snakeHead=n;var o=this.nodes.filter(function(t){return t.id===i.id})[0];this.nodes[this.nodes.indexOf(o)].nodeType="grid",this.prevousPositions.forEach(function(t){t.nodeType="grid"}),this.prevousPositions.unshift(o),this.prevousPositions.length===this.snakeLength&&this.prevousPositions.pop(),this.prevousPositions.forEach(function(t){t.nodeType="snake"})},t.prototype.createGrid=function(){var t=Math.round(this.width/30),e=Math.round(this.height/30);this.scaledHeight=e,this.scaledWIdth=t;for(var i=e*t,o=0,s=0,r=1;r<i+1;r++){var d=document.createElement("div");d.className="grid__block",d.setAttribute("style","height: 30px; width:30px; top: "+o+"px; left: "+s+"px"),d.setAttribute("data-id",""+r);var a=new n.default(d,r,"grid");this.nodes.push(a),s+=30,r%Math.round(t)==0&&(o+=30,s=0),this.grid.appendChild(d)}},t}())},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i){this.el=t,this.id=e,this.type=i}return Object.defineProperty(t.prototype,"nodeType",{set:function(t){this.type=t,this.updateType()},enumerable:!0,configurable:!0}),t.prototype.updateType=function(){return this.el.classList.add("grid__block"),"food"===this.type?this.el.classList.add("grid__block--food"):"snake"===this.type?this.el.classList.add("grid__block--snake"):void("grid"===this.type&&(this.el.classList.remove("grid__block--snake"),this.el.classList.remove("grid__block--food")))},t}();e.default=n}]);